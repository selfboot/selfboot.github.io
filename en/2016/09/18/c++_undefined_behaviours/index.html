<!DOCTYPE html><html lang="[&quot;zh-CN&quot;,&quot;en&quot;,&quot;default&quot;]"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="baidu-site-verification" content="codeva-NxrUEx2EFN"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="An in-depth exploration of undefined behavior in C++. This article explains in detail the concept of undefined behavior, why it exists, and how to avoid it. This is a must-read article for readers who want to improve their C++ programming skills."><title>Undefined Behavior in C++</title><link rel="stylesheet" type="text/css" href="/css/normalize.min.css"><link rel="stylesheet" type="text/css" href="/css/pure-min.min.css"><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"><script type="text/javascript" src="/js/jquery.min.js"></script><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml,en/atom.xml"><script defer="" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;973c5bad683a49b8af76df256779f523&quot;}"></script>
<script defer="" src="https://cloud.umami.is/script.js" data-website-id="3578d9f2-9ea0-49d4-8781-e8d1217ab924" data-domains="selfboot.cn"></script><script async="" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><meta name="referrer" content="no-referrer-when-downgrade"><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QNFB9JLSPV"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-QNFB9JLSPV');
</script><script async="" type="text/javascript" src="/js/clipboard.min.js"></script><script async="" type="text/javascript" src="/js/toastr.min.js"></script><link rel="stylesheet" href="/css/toastr.min.css"><script>function switchLanguage(lang) {
  var currentPath = window.location.pathname;
  var newPath;
  if (lang === 'en') {
    newPath = '/en' + currentPath.replace(/^\/(zh-CN\/)?/, '/');
  } else {
    newPath = currentPath.replace(/^\/en/, '');
  }
  window.location.href = newPath;
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><a id="logo" href="/.">Just For Fun</a><div class="lang-select-wrapper"><i class="fas fa-globe"></i><select id="lang-select" onchange="switchLanguage(this.value)"><option value="zh-CN">中文</option><option value="en" selected="">English</option></select></div><p class="description">Know what it is, and know why it is so. The breadth of knowledge is a byproduct of its depth!</p></div><div id="nav-menu"><a href="/en/."><i class="fa fa-home"></i><span> Home</span></a><a href="/en/archives/"><i class="fa fa-archive"></i><span> Archive</span></a><a href="/en/aboutme.html"><i class="fa fa-user"></i><span> About</span></a><a href="/en/atom.xml"><i class="fa fa-rss"></i><span> RSS</span></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Undefined Behavior in C++</h1><div class="post-meta">2016/09/18<span> | </span><span class="category"><a href="/categories/Programming/">Programming</a></span><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a class="disqus-comment-count" data-disqus-identifier="en/2016/09/18/c++_undefined_behaviours/" href="/en/2016/09/18/c++_undefined_behaviours/#disqus_thread"></a><div class="post-content"><p>Now we need a program that reads an integer of type INT from the console (input is guaranteed to be INT) and then outputs its absolute value. You might write the following code with your eyes closed:</p>
<figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    std::cin &gt;&gt; n;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">abs</span>(n) &lt;&lt; std::endl;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>Wait a minute, think carefully for two minutes, and then run the program with a few test cases. Have you found the problem in the program? Well, welcome to the world of Undefined Behavior.</p>
<p><img src="https://slefboot-1251736664.file.myqcloud.com/20160918_ub.png/webp" srcset="https://slefboot-1251736664.file.myqcloud.com/20160918_ub.png/webp 1176w, https://slefboot-1251736664.file.myqcloud.com/20160918_ub.png/webp400 400w, https://slefboot-1251736664.file.myqcloud.com/20160918_ub.png/webp800 800w" sizes="(min-width: 1150px) 723px, (min-width: 48em) calc((100vw - 120px) * 3 / 4 - 50px), (min-width: 35.5em) calc((100vw - 75px), calc(100vw - 40px)" width="1176" height="1016"></p>
<span id="more"></span>

<h1 id="What-is-Undefined-Behavior"><a href="#What-is-Undefined-Behavior" class="headerlink" title="What is Undefined Behavior"></a>What is Undefined Behavior</h1><p>In the program at the beginning of the article, we used the abs function to calculate the absolute value. What does the function return when n is INT_MIN? The <a target="_blank" rel="noopener" href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3797.pdf">C++ standard</a> has this to say:</p>
<blockquote>
<p>If during the evaluation of an expression, the result is not mathematically defined or not in the range of representable values for its type, the behavior is undefined.</p>
</blockquote>
<p>In a binary system, when n is INT_MIN, the value returned by <code>int abs(int n)</code> is out of the range of int, so this will lead to undefined behavior. Often, the standard is too concise and not convenient for us to quickly look up, so we can find the information we need on <a target="_blank" rel="noopener" href="http://en.cppreference.com/w/cpp">cppreference</a>. For the abs function, cppreference explicitly points out the possibility of undefined behavior:</p>
<blockquote>
<p>Computes the absolute value of an integer number. The behavior is undefined if the result cannot be represented by the return type.</p>
</blockquote>
<p>So what exactly is undefined behavior? Simply put, it’s when an operation is logically invalid, such as accessing an array out of bounds, but the C++ standard doesn’t tell us how to handle such situations.</p>
<p>We know that in most languages (such as Python and Java), a statement either executes correctly as expected or immediately throws an exception. But in C++, there’s another situation where a statement doesn’t execute as expected (logically it has already gone wrong), but the program can still continue to execute (the C++ standard doesn’t say how to continue). Only the behavior of the program is no longer predictable, which means the program may encounter a runtime error, give incorrect results, or even give correct results.</p>
<p>One thing to note is that for some undefined behaviors, modern compilers can sometimes give warnings or compilation failure prompts. In addition, different compilers handle undefined behaviors differently.</p>
<h1 id="Common-Undefined-Behaviors"><a href="#Common-Undefined-Behaviors" class="headerlink" title="Common Undefined Behaviors"></a>Common Undefined Behaviors</h1><p>There are a large number of undefined behaviors in the C++ standard. If you search for <code>undefined behavior</code> in the standard, you will see dozens of related content. Such a large number of undefined behaviors undoubtedly bring us many troubles. Below we will list some common undefined behaviors that should be avoided when writing programs.</p>
<p>Common undefined behaviors related to pointers include the following:</p>
<ul>
<li>Dereferencing a nullptr pointer;</li>
<li>Dereferencing an uninitialized pointer;</li>
<li>Dereferencing a pointer returned by a failed new operation;</li>
<li>Pointer out-of-bounds access (dereferencing a pointer beyond the array boundary);</li>
<li>Dereferencing a pointer to a destroyed object;</li>
</ul>
<p>Dereferencing a pointer to a destroyed object is sometimes easy to make this mistake, for example, <a target="_blank" rel="noopener" href="https://github.com/xuelangZF/CS_Offer/blob/master/C%2B%2B/Function.md#%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC">returning a local pointer address in a function</a>. Some simple error code is as follows:</p>
<figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> * <span class="title">get</span><span class="params">(<span class="type">int</span> tmp)</span></span>{</span><br><span class="line">    <span class="keyword">return</span> &amp;tmp;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> *foo = <span class="built_in">get</span>(<span class="number">10</span>);</span><br><span class="line">    std::cout &lt;&lt; *foo &lt;&lt; std::endl; <span class="comment">// Undefined Behavior;</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> arr[] = {<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>};</span><br><span class="line">    std::cout &lt;&lt; *(arr<span class="number">+4</span>) &lt;&lt; std::endl; <span class="comment">// Undefined Behavior;</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> *bar=<span class="number">0</span>;</span><br><span class="line">    *bar = <span class="number">2</span>;                       <span class="comment">// Undefined Behavior;</span></span><br><span class="line">    std::cout &lt;&lt; *bar &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>Other common undefined behaviors include:</p>
<ul>
<li>Signed integer overflow (the example at the beginning of the article);</li>
<li>When an integer does a left shift operation, the number of bits moved is negative;</li>
<li>When an integer does a shift operation, the number of bits moved exceeds the number of bits occupied by the integer. (int64_t i = 1; i &lt;&lt;= 72);</li>
<li>Attempting to modify the content of a string literal or constant;</li>
<li>Performing operations on automatically initialized variables without assigning initial values; (int i; i++; cout &lt;&lt; i;)</li>
<li>Not returning content at the end of a function with a return value;</li>
</ul>
<p>A more complete list of undefined behaviors can be found <a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/367633/what-are-all-the-common-undefined-behaviours-that-a-c-programmer-should-know-a">here</a>.</p>
<h1 id="Why-Undefined-Behaviors-Exist"><a href="#Why-Undefined-Behaviors-Exist" class="headerlink" title="Why Undefined Behaviors Exist"></a>Why Undefined Behaviors Exist</h1><p>C++ programs often have various strange bugs due to undefined behaviors, which are also very difficult to debug. In contrast, many other languages don’t have undefined behaviors, such as Python, which throws <code>list index out of range</code> when accessing a list out of bounds. These languages don’t have various strange errors due to undefined behaviors. So why does the C++ standard want to have so many undefined behaviors?</p>
<p>The reason is that <strong>this can simplify the work of the compiler and sometimes produce more efficient code</strong>. For example, if we want to make the operation of dereferencing a pointer explicit (success or throw an exception), we need to know whether the pointer usage is legal at compile time, then the compiler needs to do at least the following work:</p>
<ul>
<li>Check if the pointer is nullptr;</li>
<li>Check if the address saved by the pointer is legal through some mechanism;</li>
<li>Throw an error through some mechanism</li>
</ul>
<p>This would make the implementation of the compiler much more complex. In addition, if we have a loop that needs to operate on a large number of pointers, the code generated by the compiler would be inefficient due to various additional checks.</p>
<p>In fact, many undefined behaviors are caused by the program violating a prerequisite, such as the address value assigned to a pointer must be accessible, and the index must be in the correct range when accessing an array. For C++, the language designers believe that this is something that programmers (we’re all adults) need to ensure, and the language itself will not do corresponding checks.</p>
<p>However, the good news is that many compilers can now diagnose some operations that may lead to undefined behaviors, which can help us write more robust programs.</p>
<h1 id="Other-Behaviors"><a href="#Other-Behaviors" class="headerlink" title="Other Behaviors"></a>Other Behaviors</h1><p>The C++ standard also specifies some <strong>Unspecified Behavior</strong>. A simple example (once a interview question from a big company) is as follows:</p>
<figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get</span><span class="params">(<span class="type">int</span> i)</span></span>{</span><br><span class="line">    cout &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> i<span class="number">+1</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Cal</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    cout &lt;&lt; <span class="built_in">Cal</span>(<span class="built_in">get</span>(<span class="number">0</span>), <span class="built_in">get</span>(<span class="number">10</span>)) &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>What does the program output? The answer depends on the compiler. It could be 0 10 12, or it could be 10 0 12. This is because <strong>the execution order of function parameters is Unspecified Behavior</strong>. Referring to the C++ standard’s description of Unspecified Behavior:</p>
<blockquote>
<p>Unspecified behavior use of an unspecified value, or other behavior where this International Standard provides two or more possibilities and imposes no further requirements on which is chosen in any instance.</p>
</blockquote>
<p>In addition, there is also so-called <code>implementation-defined behavior</code> in the C++ standard. For example, the C++ standard says a data type is needed, and then the specific compiler chooses the number of bytes occupied by that type, or the storage method (big-endian or little-endian).</p>
<p>Generally speaking, we only need to care about undefined behavior, because it usually leads to program errors. As for the other two behaviors, we don’t need to care about them.</p>
<h1 id="Further-Reading"><a href="#Further-Reading" class="headerlink" title="Further Reading"></a>Further Reading</h1><p><a target="_blank" rel="noopener" href="http://en.cppreference.com/w/cpp/language/ub">Cppreference：Undefined behavior</a><br><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/367633/what-are-all-the-common-undefined-behaviours-that-a-c-programmer-should-know-a">What are all the common undefined behaviors that a C++ programmer should know about?</a><br><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/98340/what-are-the-common-undefined-unspecified-behavior-for-c-that-you-run-into">What are the common undefined/unspecified behavior for C that you run into?</a><br><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/9566187/function-parameter-evaluation-order">function parameter evaluation order</a><br><a target="_blank" rel="noopener" href="http://blog.regehr.org/archives/213">A Guide to Undefined Behavior in C and C++, Part 1</a><br><a target="_blank" rel="noopener" href="http://blog.regehr.org/archives/213">A Guide to Undefined Behavior in C and C++, Part 2</a><br><a target="_blank" rel="noopener" href="https://www.quora.com/Why-is-there-so-much-undefined-behaviour-in-C++-Wouldnt-it-be-better-if-some-of-them-were-pre-defined-in-the-standard">Why is there so much undefined behavior in C++?</a><br><a target="_blank" rel="noopener" href="http://www.cplusplus.com/reference/cstdlib/abs/?kw=abs">Cplusplus: abs</a><br><a target="_blank" rel="noopener" href="http://blog.llvm.org/2011/05/what-every-c-programmer-should-know.html">What Every C Programmer Should Know About Undefined Behavior</a><br><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/4176328/undefined-behavior-and-sequence-points">Undefined behavior and sequence points</a><br><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/2397984/undefined-unspecified-and-implementation-defined-behavior">Undefined, unspecified and implementation-defined behavior</a><br><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/81656/where-do-i-find-the-current-c-or-c-standard-documents">Where do I find the current C or C++ standard documents?</a></p>
</div><div class="article-footer-copyright"><p> Written in Chinese, LLM translated into English</p><p>Non-commercial reproduction is allowed with proper attribution to the author and source. </p><p>For commercial reproduction, please contact the <a href="mailto:xuezaigds@gmail.com">author</a></p></div><div class="post-donate"><div class="donate_bar center" id="donate_board"><a class="btn_donate" id="btn_donate" href="javascript:;" title="Sponsor"></a><div class="donate_txt"> ↑<br>Good content, Sponsor it<br></div></div><div class="donate_bar center hidden" id="donate_guide"><img src="https://slefboot-1251736664.file.myqcloud.com/weixin.jpg" title="WeChat Sponsor"><img src="https://slefboot-1251736664.file.myqcloud.com/zhifubao.jpg" title="Alipay Sponsor"></div><script type="text/javascript">document.getElementById('btn_donate').onclick = function(){
    $('#donate_board').addClass('hidden');
    $('#donate_guide').removeClass('hidden');
}</script></div><div class="addthis_sharing_toolbox"></div><div class="tags"><a href="/tags/C/"><i class="fa fa-tag"></i>C++</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论（请确保 Disqus 可以正常加载）</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'https://selfboot.cn/en/2016/09/18/c++_undefined_behaviours/';
    this.page.identifier = 'en/2016/09/18/c++_undefined_behaviours/';
    this.page.title = 'Undefined Behavior in C++';
  };</script><script type="text/javascript" id="disqus-lazy-load-script">$.ajax({
url: 'https://disqus.com/next/config.json',
timeout: 2500,
type: 'GET',
success: function(){
  var d = document;
  var s = d.createElement('script');
  s.src = '//xuelangZF.disqus.com/embed.js';
  s.setAttribute('data-timestamp', + new Date());
  (d.head || d.body).appendChild(s);
  $('.disqus_click_btn').css('display', 'none');
},
error: function() {
  $('.disqus_click_btn').css('display', 'block');
}
});</script><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//xuelangZF.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://xuelangZF.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });</script></div><script type="text/javascript">document.addEventListener('DOMContentLoaded', function () {
  var disqusThread = document.getElementById('disqus_thread');
  if (!disqusThread) return;
  
  function removeAdIframes() {
    var iframes = disqusThread.getElementsByTagName('iframe');
    for (var i = iframes.length - 1; i >= 0; i--) {
      var iframe = iframes[i];
      if (iframe.src && iframe.src.indexOf("tempest.services.disqus.com/ads-iframe") !== -1) {
        iframe.parentNode.removeChild(iframe);
      }
    }
  }
  
  removeAdIframes();
  
  var observer = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
      removeAdIframes();
    });
  });
  observer.observe(disqusThread, { childList: true, subtree: true });
});
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="https://www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="https://selfboot.cn"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"></i><span>Categories</span></div><ul><li><a href="/en/categories/Programming/">Programming</a> (19)</li><li><a href="/en/categories/Source-Code-Analysis/">Source Code Analysis</a> (20)</li><li><a href="/en/categories/Artificial-Intelligence/">Artificial Intelligence</a> (14)</li><li><a href="/en/categories/Discovery/">Discovery</a> (1)</li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"></i><span>Tags</span></div><div class="tagcloud"><a href="/en/tags/Python/" style="font-size: 15.00px;">Python</a> <a href="/en/tags/Google/" style="font-size: 15.00px;">Google</a> <a href="/en/tags/C/" style="font-size: 15.00px;">C++</a> <a href="/en/tags/ChatGPT/" style="font-size: 15.00px;">ChatGPT</a> <a href="/en/tags/Prompt/" style="font-size: 15.00px;">Prompt</a> <a href="/en/tags/Redis/" style="font-size: 15.00px;">Redis</a> <a href="/en/tags/Debug/" style="font-size: 15.00px;">Debug</a> <a href="/en/tags/eBPF/" style="font-size: 15.00px;">eBPF</a> <a href="/en/tags/Go/" style="font-size: 15.00px;">Go</a> <a href="/en/tags/Frontend/" style="font-size: 15.00px;">Frontend</a> <a href="/en/tags/Gemini/" style="font-size: 15.00px;">Gemini</a> <a href="/en/tags/SEO/" style="font-size: 15.00px;">SEO</a> <a href="/en/tags/LLM/" style="font-size: 15.00px;">LLM</a> <a href="/en/tags/Web/" style="font-size: 15.00px;">Web</a> <a href="/en/tags/LevelDB/" style="font-size: 15.00px;">LevelDB</a></div></div><!-- Debug: page.path = en/2016/09/18/c++_undefined_behaviours/ --><div class="widget"><div class="widget-title"><i class="fa fa-file-o"></i><span>Recent</span></div><ul><li><a href="/en/2025/06/13/leveldb_source_LRU_cache/" title="LevelDB Explained - The Implementation Details of a High-Performance LRU Cache">LevelDB Explained - The Implementation Details of a High-Performance LRU Cache</a></li><li><a href="/en/2025/06/11/leveldb_source_memtable/" title="LevelDB Explained - The Implementation Details of MemTable">LevelDB Explained - The Implementation Details of MemTable</a></li><li><a href="/en/2025/06/10/leveldb_mvcc_intro/" title="LevelDB Explained - Understanding Multi-Version Concurrency Control (MVCC)">LevelDB Explained - Understanding Multi-Version Concurrency Control (MVCC)</a></li><li><a href="/en/2025/05/23/mcp_user_report/" title="In-depth Experience with 3 MCP Servers via Cursor: Impressive but Not Yet Practical?">In-depth Experience with 3 MCP Servers via Cursor: Impressive but Not Yet Practical?</a></li><li><a href="/en/2025/01/24/leveldb_source_writedb/" title="LevelDB Explained - Implementation and Optimization Details of Key-Value Writing">LevelDB Explained - Implementation and Optimization Details of Key-Value Writing</a></li><li><a href="/en/2025/01/13/leveldb_source_write_batch/" title="LevelDB Explained - Elegant Merging of Write and Delete Operations">LevelDB Explained - Elegant Merging of Write and Delete Operations</a></li><li><a href="/en/2025/01/10/c++_crash_cases/" title="5 Real-world Cases of C++ Process Crashes from Production">5 Real-world Cases of C++ Process Crashes from Production</a></li><li><a href="/en/2025/01/02/leveldb_source_thread_anno/" title="LevelDB Explained - Static Thread Safety Analysis with Clang">LevelDB Explained - Static Thread Safety Analysis with Clang</a></li><li><a href="/en/2024/12/25/leveldb_source_hashtable/" title="LevelDB Explained - How to Design a High-Performance HashTable">LevelDB Explained - How to Design a High-Performance HashTable</a></li><li><a href="/en/2024/09/24/leveldb_source_skiplist_time_analysis/" title="LevelDB Explained - How to Analyze the Time Complexity of SkipLists?">LevelDB Explained - How to Analyze the Time Complexity of SkipLists?</a></li></ul></div><!-- Debug: Current Language = en, Filtered Posts Count = 10 --><div class="widget" id="toc"><div class="widget-title"><i class="fa fa-list-ul"></i><span> Contents</span></div><ul class="dsq-widget-list"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#What-is-Undefined-Behavior"><span class="toc-number">1.</span> <span class="toc-text">What is Undefined Behavior</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Common-Undefined-Behaviors"><span class="toc-number">2.</span> <span class="toc-text">Common Undefined Behaviors</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Why-Undefined-Behaviors-Exist"><span class="toc-number">3.</span> <span class="toc-text">Why Undefined Behaviors Exist</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Other-Behaviors"><span class="toc-number">4.</span> <span class="toc-text">Other Behaviors</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Further-Reading"><span class="toc-number">5.</span> <span class="toc-text">Further Reading</span></a></li></ol></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2025 <a href="/." rel="nofollow">Just For Fun.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/selfboot/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/selfboot"> SelfBoot.</a><p><span id="busuanzi_container_site_pv"></span>Total Site Visits:  <span id="busuanzi_value_site_pv"></span> Times，<span id="busuanzi_container_site_uv"></span>Unique Visitors:  <span id="busuanzi_value_site_uv"></span> People</p></div></div></div><link rel="stylesheet" type="text/css" href="/css/donate.css"><link rel="stylesheet" type="text/css" href="/css/copyright.css"><a class="show" id="rocket" href="#top" aria-label="Back to top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script><script type="text/javascript" src="/js/jquery.fancybox.min.js" defer=""></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" defer=""></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.min.css"><script type="text/javascript" src="/js/toc.js?v=1.0.0"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>