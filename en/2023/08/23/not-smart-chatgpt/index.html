<!DOCTYPE html><html lang="[&quot;zh-CN&quot;,&quot;en&quot;,&quot;default&quot;]"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="baidu-site-verification" content="codeva-WUJTOV7jES"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="This article summarizes various erroneous responses from ChatGPT in daily use, such as mistakes in time zone settings, legal cases, code implementation, image recognition, etc. Although it seems intelligent, it still has limitations. These examples remind us to verify AI outputs rather than blindly relying on them. Proper use of ChatGPT and understanding its strengths and weaknesses are key to leveraging its value. We should not dismiss AI due to occasional errors, but approach the current AI level objectively and rationally."><title>Real Examples Showing How ChatGPT Can Make Things Up!</title><link rel="stylesheet" type="text/css" href="/css/normalize.min.css"><link rel="stylesheet" type="text/css" href="/css/pure-min.min.css"><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"><script type="text/javascript" src="/js/jquery.min.js"></script><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml,en/atom.xml"><script defer="" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;973c5bad683a49b8af76df256779f523&quot;}"></script>
<script defer="" src="https://cloud.umami.is/script.js" data-website-id="3578d9f2-9ea0-49d4-8781-e8d1217ab924"></script><script async="" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><meta name="referrer" content="no-referrer-when-downgrade"><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QNFB9JLSPV"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-QNFB9JLSPV');
</script><script async="" type="text/javascript" src="/js/clipboard.min.js"></script><script async="" type="text/javascript" src="/js/toastr.min.js"></script><link rel="stylesheet" href="/css/toastr.min.css"><script>function switchLanguage(lang) {
  var currentPath = window.location.pathname;
  var newPath;
  if (lang === 'en') {
    newPath = '/en' + currentPath.replace(/^\/(zh-CN\/)?/, '/');
  } else {
    newPath = currentPath.replace(/^\/en/, '');
  }
  window.location.href = newPath;
}</script><meta name="generator" content="Hexo 7.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><a id="logo" href="/.">Just For Fun</a><div class="lang-select-wrapper"><i class="fas fa-globe"></i><select id="lang-select" onchange="switchLanguage(this.value)"><option value="zh-CN">中文</option><option value="en" selected="">English</option></select></div><p class="description">Know what it is, and know why it is so. The breadth of knowledge is a byproduct of its depth!</p></div><div id="nav-menu"><a href="/en/."><i class="fa fa-home"></i><span> Home</span></a><a href="/en/archives/"><i class="fa fa-archive"></i><span> Archive</span></a><a href="/en/aboutme.html"><i class="fa fa-user"></i><span> About</span></a><a href="/en/atom.xml"><i class="fa fa-rss"></i><span> RSS</span></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Real Examples Showing How ChatGPT Can Make Things Up!</h1><div class="post-meta">2023/08/23<span> | </span><span class="category"><a href="/categories/Artificial-Intelligence/">Artificial Intelligence</a></span><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a class="disqus-comment-count" data-disqus-identifier="en/2023/08/23/not-smart-chatgpt/" href="/en/2023/08/23/not-smart-chatgpt/#disqus_thread"></a><div class="post-content"><p>GPT-4, this outstanding representative of artificial intelligence, has already surpassed ordinary humans in many aspects. My daily life is increasingly dependent on ChatGPT, which has greatly improved my work efficiency. However, during use, I’ve found that ChatGPT still sometimes makes “naive” mistakes, like the occasional mischievous behavior of a growing child.</p>
<p>This article records some erroneous answers discovered during <strong>daily use</strong> of ChatGPT, like recording embarrassing moments in a child’s growth. When AI “grows up” one day, we can look back on these “childhood” embarrassing moments together.</p>
<p><img src="https://slefboot-1251736664.file.myqcloud.com/20230817_not_smart_chatgpt_robot.png/webp" alt="Collection of ChatGPT's erroneous answers" srcset="https://slefboot-1251736664.file.myqcloud.com/20230817_not_smart_chatgpt_robot.png/webp 1280w, https://slefboot-1251736664.file.myqcloud.com/20230817_not_smart_chatgpt_robot.png/webp400 400w, https://slefboot-1251736664.file.myqcloud.com/20230817_not_smart_chatgpt_robot.png/webp800 800w" sizes="(min-width: 1150px) 723px, (min-width: 48em) calc((100vw - 120px) * 3 / 4 - 50px), (min-width: 35.5em) calc((100vw - 75px), calc(100vw - 40px)" width="1280" height="720"></p>
<span id="more"></span>

<p>The records in this article are all based on OpenAI’s GPT model. Unless otherwise specified, they are all from the latest GPT-4 model. This article will be <strong>continuously updated</strong> on my personal blog, recording various interesting answers discovered in daily use.</p>
<h2 id="Beijing-Time-Zone-in-pytz"><a href="#Beijing-Time-Zone-in-pytz" class="headerlink" title="Beijing Time Zone in pytz"></a>Beijing Time Zone in pytz</h2><p>The background is this: I stored several timestamps of the <code>timestamp with time zone</code> type in <code>postgres</code>, all stored according to the UTC time zone. When reading, I wanted to convert them to Beijing time zone and then render them into the email. When I first asked, I accidentally asked about converting to Shanghai time zone. The prompt was as follows:</p>
<blockquote>
<p>If I want to convert the time returned by the database according to the Shanghai time zone and then render it into the email html, how should I do it?</p>
</blockquote>
<p>ChatGPT performed very well, directly telling me that I could use Python’s <code>pytz</code> library to handle time zone conversion. Here are the steps to convert UTC time to Shanghai time zone:</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ...</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> report_data:</span><br><span class="line">    item.createtime = item.createtime.astimezone(shanghai_tz)</span><br><span class="line">    item.updatetime = item.updatetime.astimezone(shanghai_tz)</span><br><span class="line">    item.publishtime = item.publishtime.astimezone(shanghai_tz) <span class="keyword">if</span> item.publishtime <span class="keyword">else</span> <span class="literal">None</span></span><br></pre></td></tr></tbody></table></figure>

<p>Actually, I still wanted to convert to Beijing time zone, so I asked another question:</p>
<blockquote>
<p>How to convert to Beijing time zone?</p>
</blockquote>
<p>ChatGPT answered that you can define the Beijing time zone because Beijing and Shanghai are in the same time zone. You can use <code>'Asia/Shanghai'</code> or <code>'Asia/Beijing'</code> to define the Beijing time zone. Here’s <strong>how to use ‘Asia/Beijing’ to define the Beijing time zone</strong>:</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ...</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> report_data:</span><br><span class="line">    item.createtime = item.createtime.astimezone(beijing_tz)</span><br><span class="line">    item.updatetime = item.updatetime.astimezone(beijing_tz)</span><br><span class="line">    item.publishtime = item.publishtime.astimezone(beijing_tz) <span class="keyword">if</span> item.publishtime <span class="keyword">else</span> <span class="literal">None</span></span><br></pre></td></tr></tbody></table></figure>

<p>I also obediently changed the time zone according to ChatGPT’s suggestion. As a result, I encountered an error, so I had to paste this error to ChatGPT, and then ChatGPT realized the mistake.</p>
<blockquote>
<p>pytz.exceptions.UnknownTimeZoneError: ‘Asia/Beijing’</p>
</blockquote>
<p>Although Beijing is the capital of China, in the time zone database, <strong>China’s time zone is usually represented by Shanghai</strong>. So you should use ‘Asia/Shanghai’ instead of ‘Asia/Beijing’. This again verified the golden philosophy of using ChatGPT: <strong>Always verify AI’s answers</strong>.</p>
<h2 id="Landlord-Not-Returning-Deposit"><a href="#Landlord-Not-Returning-Deposit" class="headerlink" title="Landlord Not Returning Deposit?"></a>Landlord Not Returning Deposit?</h2><p>I knew ChatGPT could have hallucinations, but I didn’t expect <strong>this hallucination to be reproducible</strong>. The situation was like this: there were many consultation questions, and I wanted to help <a href="https://selfboot.cn/links">Lawyer Xiao Sheng</a> do a simple classification and screening to find useful information. So I wrote a script to use ChatGPT to perform some classification and summary tasks, but found that for some records with empty content, ChatGPT gave me a very strange classification and summary.</p>
<p>My prompt was like this:</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">You are a professional lawyer in China, familiar with the Civil Code and other current Chinese laws.</span><br><span class="line">Your task now is to categorize, summarize, and try to answer the user's consultation questions.</span><br><span class="line">You need to output a json, including the following fields:</span><br><span class="line"></span><br><span class="line">"isneedlawer": true/false, # Whether the user needs the help of a lawyer</span><br><span class="line">"customreplycontent": "", # A legal advice given for the question, if no legal advice, then an empty string,</span><br><span class="line">"cityzone": "", # The location involved in the question, accurate to the city, such as Guangzhou. If there is no location information, then an empty string,</span><br><span class="line">"abstract": "" # A simple overview of the question, no more than 200 characters, should include the main information conveyed by the user"</span><br><span class="line"></span><br><span class="line">The output must be json, if not possible, please output an empty json.</span><br><span class="line">The content of the user's consultation is as follows:</span><br><span class="line">{seperator}{question}{seperator}</span><br></pre></td></tr></tbody></table></figure>

<p>Where <code>seperator</code> is the separator, and <code>question</code> is the consultation content read from elsewhere. If the consultation content is not empty, everything meets expectations, but once the consultation content is empty, ChatGPT would return a very strange result, as shown in the following figure:</p>
<p><img src="https://slefboot-1251736664.file.myqcloud.com/20230821_not_smart_chatgpt.png/webp" alt="ChatGPT hallucination: Landlord not returning deposit" srcset="https://slefboot-1251736664.file.myqcloud.com/20230821_not_smart_chatgpt.png/webp 2402w, https://slefboot-1251736664.file.myqcloud.com/20230821_not_smart_chatgpt.png/webp400 400w, https://slefboot-1251736664.file.myqcloud.com/20230821_not_smart_chatgpt.png/webp800 800w, https://slefboot-1251736664.file.myqcloud.com/20230821_not_smart_chatgpt.png/webp1600 1600w" sizes="(min-width: 1150px) 723px, (min-width: 48em) calc((100vw - 120px) * 3 / 4 - 50px), (min-width: 35.5em) calc((100vw - 75px), calc(100vw - 40px)" width="2402" height="1136"></p>
<p>Do landlords in Guangzhou often not return tenants’ deposits, and ChatGPT has learned this from the internet? It’s a bit laughable. This problem occurs not only under ChatGPT3.5 but also with the latest GPT4 model.</p>
<h2 id="Plugin-That-Can’t-Be-Activated"><a href="#Plugin-That-Can’t-Be-Activated" class="headerlink" title="Plugin That Can’t Be Activated"></a>Plugin That Can’t Be Activated</h2><p>OpenAI’s ChatGPT is an offline trained model, and it will lack some relatively new knowledge. <a target="_blank" rel="noopener" href="https://python.langchain.com/docs/get_started/introduction.html">Langchain</a> is a recently released LLM development framework, and ChatGPT doesn’t have related knowledge. In order to let it answer questions about langchain, I turned on the Webpolit plugin and provided it with the documentation address, then asked the following question:</p>
<blockquote>
<p>Referring to the langchain documentation at <a target="_blank" rel="noopener" href="https://python.langchain.com/docs/get_started/quickstart">https://python.langchain.com/docs/get_started/quickstart</a>, help me classify the specified Chinese text, extract the following information, and output json.</p>
<p>cityzone: Extract location information mentioned in the text<br>customreplycontent: Generate a reply</p>
</blockquote>
<p>Then GPT4 confidently said that according to the documentation and requirements, the following script can be used to complete the task.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> langchain <span class="keyword">import</span> Langchain</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create Langchain instance</span></span><br><span class="line">lc = Langchain()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Define function to analyze text</span></span><br><span class="line"><span class="meta">@lc.register</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">analyze_text</span>(<span class="params">text: <span class="built_in">str</span></span>) -&gt; <span class="built_in">dict</span>:</span><br><span class="line">    cityzone = extract_location_info(text)</span><br><span class="line">    customreplycontent = generate_reply(text)</span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">        <span class="string">"cityzone"</span>: cityzone,</span><br><span class="line">        <span class="string">"customreplycontent"</span>: customreplycontent</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="comment"># Define function to extract location information</span></span><br><span class="line"><span class="meta">@lc.register</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">extract_location_info</span>(<span class="params">text: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="comment"># Add your logic here to extract location information</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Shanghai"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ...</span></span><br></pre></td></tr></tbody></table></figure>

<p>How did this genius suddenly become so stupid? Even <code>extract_location_info(text)</code> can be presented as Python code, it’s too perfunctory. And it still had the audacity to tell me to test this script by installing the Langchain library and running the above code. I had no choice but to remind it to use the plugin to read the documentation again to implement it, and finally it became smart.</p>
<p><img src="https://slefboot-1251736664.file.myqcloud.com/20230821_not_smart_chatgpt_webpolit.png/webp" alt="ChatGPT after learning with plugin" srcset="https://slefboot-1251736664.file.myqcloud.com/20230821_not_smart_chatgpt_webpolit.png/webp 1652w, https://slefboot-1251736664.file.myqcloud.com/20230821_not_smart_chatgpt_webpolit.png/webp400 400w, https://slefboot-1251736664.file.myqcloud.com/20230821_not_smart_chatgpt_webpolit.png/webp800 800w, https://slefboot-1251736664.file.myqcloud.com/20230821_not_smart_chatgpt_webpolit.png/webp1600 1600w" sizes="(min-width: 1150px) 723px, (min-width: 48em) calc((100vw - 120px) * 3 / 4 - 50px), (min-width: 35.5em) calc((100vw - 75px), calc(100vw - 40px)" width="1652" height="1446"></p>
<h2 id="Image-Recognition-Error"><a href="#Image-Recognition-Error" class="headerlink" title="Image Recognition Error"></a>Image Recognition Error</h2><p>I had an image where I marked a part of it in red, and I wanted to replace that part with another image. I’m not familiar with opencv code and don’t understand much about image processing, so I thought of asking ChatGPT’s <a href="https://selfboot.cn/2023/07/12/gpt4_code_interpreter_image/">Code Interpreter</a> to write a simple code to process it. So I sent it the image and asked:</p>
<blockquote>
<p>How to use python to recognize the coordinates of the red box in this image and replace the content inside with other content?</p>
</blockquote>
<p>ChatGPT gave its own steps, which seemed reasonable:</p>
<ol>
<li>Read the image.</li>
<li>Identify the coordinates of the red box.</li>
<li>Crop that area and replace it with the desired content.</li>
<li>Paste the replaced content back into the original image.</li>
</ol>
<p>Then came the first step, identifying the coordinates of the red box. It confidently said it successfully identified the coordinates of the red box, which is located at position (562, 474) in the image, with a width of 142 and a height of 172. It even kindly marked it with a <strong>blue box</strong> on the image, as shown below:</p>
<p><img src="https://slefboot-1251736664.file.myqcloud.com/20230822_not_smart_chatgpt_cv.png/webp" alt="ChatGPT's image recognition error" srcset="https://slefboot-1251736664.file.myqcloud.com/20230822_not_smart_chatgpt_cv.png/webp 1266w, https://slefboot-1251736664.file.myqcloud.com/20230822_not_smart_chatgpt_cv.png/webp400 400w, https://slefboot-1251736664.file.myqcloud.com/20230822_not_smart_chatgpt_cv.png/webp800 800w" sizes="(min-width: 1150px) 723px, (min-width: 48em) calc((100vw - 120px) * 3 / 4 - 50px), (min-width: 35.5em) calc((100vw - 75px), calc(100vw - 40px)" width="1266" height="628"></p>
<p>It recognized the face in the image as the red box part. Looking at the code, it should be due to incorrect color threshold settings. Later, I broke down the task, asking it to only identify the position of the red box, and made the red of the box a bit thicker, then ChatGPT could recognize it normally.</p>
<h2 id="Linked-List-Graph-That-Can’t-Be-Drawn"><a href="#Linked-List-Graph-That-Can’t-Be-Drawn" class="headerlink" title="Linked List Graph That Can’t Be Drawn"></a>Linked List Graph That Can’t Be Drawn</h2><p>When I was reading the book “Redis Design and Implementation”, I saw that the author said all the illustrations were generated using <a target="_blank" rel="noopener" href="http://graphviz.org/">Graphviz</a>, and even provided the source code for all the illustrations <a target="_blank" rel="noopener" href="https://github.com/huangz1990/redisbook1e-gallery">redisbook1e-gallery</a>. At that time, I thought it was so cool to generate images from source code, and I even opened the Graphviz official website to take a look. However, the documentation seemed too much, and it would take some time to get started, so I put it aside.</p>
<p>Recently, I just wanted to draw a simple graph using Graphviz, and I thought of asking ChatGPT to generate the source code. Wouldn’t that be great? Just speak, and the image comes out, how nice. So I asked the following question:</p>
<blockquote>
<p>You are a Graphviz drawing expert. Please help me output the code for making the image described below in markdown. The drawn image should be simple and clear, with a neat structure.</p>
<p>Image description: There is a linked list of int, with element values from head to tail being 1, 2, 3, …, 100. There is an arrow pointing to the head with the text “head”, and an arrow with the title “tail” pointing to the tail of the linked list.</p>
</blockquote>
<p>ChatGPT indeed knew! It gave a good source code, and kindly reminded me that I could paste this code into a Graphviz editor (such as <a target="_blank" rel="noopener" href="http://www.webgraphviz.com/">WebGraphviz</a>) to generate an image of the linked list.</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">digraph LinkedList {</span><br><span class="line">    rankdir=LR;</span><br><span class="line">    node [shape=record];</span><br><span class="line">    </span><br><span class="line">    // Define head and tail labels</span><br><span class="line">    head [label="head", shape=plaintext];</span><br><span class="line">    tail [label="tail", shape=plaintext];</span><br><span class="line">    </span><br><span class="line">    // Define linked list nodes</span><br><span class="line">    node1 [label="{ 1 | &lt;p1&gt; }"];</span><br><span class="line">    node2 [label="{ 2 | &lt;p2&gt; }"];</span><br><span class="line">    node3 [label="{ 3 | &lt;p3&gt; }"];</span><br><span class="line">    ellipsis [label="...", shape=plaintext];</span><br><span class="line">    node100 [label="{ 100 | }"];</span><br><span class="line">    </span><br><span class="line">    // Define arrows and connections</span><br><span class="line">    head -&gt; node1 [dir=back, constraint=false];</span><br><span class="line">    node1:p1 -&gt; node2;</span><br><span class="line">    node2:p2 -&gt; node3;</span><br><span class="line">    node3:p3 -&gt; ellipsis;</span><br><span class="line">    ellipsis -&gt; node100;</span><br><span class="line">    tail -&gt; node100 [dir=back, constraint=false];</span><br><span class="line">    </span><br><span class="line">    // Define arrangement</span><br><span class="line">    { rank=same; head tail }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>So I pasted the source code over, only to find that there were syntax errors, and the generated image was incorrect. The head and tail were drawn incorrectly, and there was even an extra svg, as shown in the following image:</p>
<p><img src="https://slefboot-1251736664.file.myqcloud.com/20230822_not_smart_chatgpt_graphviz.png/webp" alt="ChatGPT unable to draw a simple linked list digraph" srcset="https://slefboot-1251736664.file.myqcloud.com/20230822_not_smart_chatgpt_graphviz.png/webp 1706w, https://slefboot-1251736664.file.myqcloud.com/20230822_not_smart_chatgpt_graphviz.png/webp400 400w, https://slefboot-1251736664.file.myqcloud.com/20230822_not_smart_chatgpt_graphviz.png/webp800 800w, https://slefboot-1251736664.file.myqcloud.com/20230822_not_smart_chatgpt_graphviz.png/webp1600 1600w" sizes="(min-width: 1150px) 723px, (min-width: 48em) calc((100vw - 120px) * 3 / 4 - 50px), (min-width: 35.5em) calc((100vw - 75px), calc(100vw - 40px)" width="1706" height="674"></p>
<p>Then I tried various clearer prompts, but ChatGPT always failed to give the correct source code, and many of the source codes it gave had syntax errors. Could it be that there isn’t much Graphviz drawing corpus in the dataset, causing ChatGPT to not learn it?</p>
<h2 id="Missing-Library-in-Code-Interpreter"><a href="#Missing-Library-in-Code-Interpreter" class="headerlink" title="Missing Library in Code Interpreter"></a>Missing Library in Code Interpreter</h2><p>ChatGPT’s <a href="https://selfboot.cn/2023/07/10/gpt4_code_interpreter_data/">Code Interpreter</a> is quite useful, allowing you to analyze data and perform visualization without writing code yourself. Once during the process of use, I needed to <strong>segment Chinese content</strong> in the data, and I thought of <a target="_blank" rel="noopener" href="https://github.com/fxsjy/jieba">jieba segmentation</a>. But fearing that ChatGPT’s code interpreter environment might not have this package installed, I asked ChatGPT:</p>
<blockquote>
<p>Can you use some Chinese segmentation libraries, such as jieba?</p>
</blockquote>
<p>ChatGPT confidently answered that of course it could use the jieba segmentation library to more accurately analyze Chinese text, and even said that this library could better recognize Chinese vocabulary and phrases. Then it started writing code:</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"></span><br><span class="line"><span class="comment"># Using jieba to tokenize the consultation texts</span></span><br><span class="line">jieba_words = jieba.cut(consultation_texts)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Counting the frequency of each word using jieba tokenization</span></span><br><span class="line">jieba_word_counts = Counter(jieba_words)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Finding and returning the top 50 most common words using jieba tokenization</span></span><br><span class="line">top_50_jieba_words = [word <span class="keyword">for</span> word, _ <span class="keyword">in</span> jieba_word_counts.most_common(<span class="number">50</span>) <span class="keyword">if</span> word.strip() <span class="keyword">and</span> word <span class="keyword">not</span> <span class="keyword">in</span> <span class="string">'.,;:!?。，；：！？'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Returning the top 50 words with jieba</span></span><br><span class="line">top_50_jieba_words</span><br></pre></td></tr></tbody></table></figure>

<p>Then ChatGPT started running the code, and sure enough, it found that the jieba library was not installed <code>No module named 'jieba'</code>. Then it finally realized that the jieba segmentation library was not installed in the current environment, so it could not be used directly.</p>
<p><img src="https://slefboot-1251736664.file.myqcloud.com/20230825_not_smart_chatgpt_jieba.png/webp" alt="Code interpreter failed to load jieba library" srcset="https://slefboot-1251736664.file.myqcloud.com/20230825_not_smart_chatgpt_jieba.png/webp 1388w, https://slefboot-1251736664.file.myqcloud.com/20230825_not_smart_chatgpt_jieba.png/webp400 400w, https://slefboot-1251736664.file.myqcloud.com/20230825_not_smart_chatgpt_jieba.png/webp800 800w" sizes="(min-width: 1150px) 723px, (min-width: 48em) calc((100vw - 120px) * 3 / 4 - 50px), (min-width: 35.5em) calc((100vw - 75px), calc(100vw - 40px)" width="1388" height="510"></p>
<p>In this example, the AI’s performance is understandable, after all, humans often make this mistake too, often running half the code before realizing a library is not installed. However, AI can perform better, it can tell me <strong>how to manually install this library in the current environment</strong> when it fails to run. After all, you know I want to use this library, and you have a way to install it, so why not tell me? It seems it’s not smart enough yet~</p>
<h2 id="Clickhouse-Functions"><a href="#Clickhouse-Functions" class="headerlink" title="Clickhouse Functions"></a>Clickhouse Functions</h2><p>The background is this: I wanted to write a query statement in Clickhouse to convert a field stored by bit into an array. Each bit (from low to high) corresponds to:</p>
<table>
<thead>
<tr>
<th>Bit</th>
<th>Explanation</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>CN</td>
</tr>
<tr>
<td>1</td>
<td>EN</td>
</tr>
<tr>
<td>2</td>
<td>HK</td>
</tr>
<tr>
<td>3</td>
<td>JA</td>
</tr>
</tbody></table>
<p>For the number 13 (1101), I wanted to convert it to <code>[CN, HK, JA]</code>. The prompt was as follows:</p>
<blockquote>
<p>In Clickhouse, I found a field that is a binary bit-recorded flag bit, how to convert it to an array?</p>
<p>&amp; 1 = 1 , CN<br>&amp; 2 = 1 , EN</p>
</blockquote>
<p>Then it told me to do this:</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arrayJoin(arrayFilter(x <span class="operator">-</span><span class="operator">&gt;</span> x <span class="operator">!=</span> <span class="string">''</span>, [if(field <span class="operator">&amp;</span> <span class="number">1</span>, <span class="string">'CN'</span>, <span class="string">''</span>), if(field <span class="operator">&amp;</span> <span class="number">2</span>, <span class="string">'EN'</span>, <span class="string">''</span>)])) <span class="keyword">AS</span> CombinedFlags</span><br></pre></td></tr></tbody></table></figure>

<p>I happily took it to test, but found it was incorrect. I simplified a test SQL: <code>select 5&amp;1</code>, and found it also reported an error, so I directly prompted:</p>
<blockquote>
<p>select 5&amp;1<br>Error running query: Code: 62, e.displayText() = DB::Exception: Syntax error: failed at position 335 (‘&amp;’) (line 5, col 9): &amp;1 FORMAT JSON. Unrecognized token: ‘&amp;’ (version 21.8.12.1)</p>
</blockquote>
<p>Then ChatGPT apologized, saying it overlooked the SQL syntax details of ClickHouse. In ClickHouse, you need to use the <code>bitAnd</code> function to perform bitwise AND operations. For example, to check if the first bit of number 5 is 1, you can write:</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> bitAnd(<span class="number">5</span>, <span class="number">1</span>) <span class="keyword">AS</span> <span class="keyword">Result</span></span><br></pre></td></tr></tbody></table></figure>

<p>I tried it again, but found it still incorrect. After thinking for a moment, I realized that this is not about calculating AND, but testing whether a certain bit is 1, and then concatenating all the bits that are 1. <strong>No longer relying on ChatGPT, I directly checked the official documentation</strong>, and found the function bitTest, which can test whether a certain bit is 1. Finally, I wrote the following SQL (you can replace field with 13 to test):</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> arrayFilter(x <span class="operator">-</span><span class="operator">&gt;</span> x <span class="operator">!=</span> <span class="string">''</span>, [if(bitTest(field, <span class="number">0</span>)<span class="operator">=</span><span class="number">1</span>, <span class="string">'CN'</span>, <span class="string">''</span>), </span><br><span class="line">    if(bitTest(field, <span class="number">1</span>)<span class="operator">=</span><span class="number">1</span>, <span class="string">'EN'</span>, <span class="string">''</span>),</span><br><span class="line">    if(bitTest(field, <span class="number">2</span>)<span class="operator">=</span><span class="number">1</span>, <span class="string">'HK'</span>, <span class="string">''</span>),</span><br><span class="line">    if(bitTest(field, <span class="number">3</span>)<span class="operator">=</span><span class="number">1</span>, <span class="string">'JA'</span>, <span class="string">''</span>)]) <span class="keyword">AS</span> combine</span><br></pre></td></tr></tbody></table></figure>

<hr>
<p>Through these daily real-life cases, we can see that current ChatGPT still makes up some <strong>seemingly correct</strong> answers when answering some questions. However, we should not deny the value of ChatGPT because of this, nor should we abandon its use. <strong>Recognizing its limitations and using it reasonably</strong> is the attitude we should have.</p>
</div><div class="article-footer-copyright"><p> Written in Chinese, LLM translated into English</p><p>Non-commercial reproduction is allowed with proper attribution to the author and source. </p><p>For commercial reproduction, please contact the <a href="mailto:xuezaigds@gmail.com">author</a></p></div><div class="post-donate"><div class="donate_bar center" id="donate_board"><a class="btn_donate" id="btn_donate" href="javascript:;" title="Sponsor"></a><div class="donate_txt"> ↑<br>Good content, Sponsor it<br></div></div><div class="donate_bar center hidden" id="donate_guide"><img src="https://slefboot-1251736664.file.myqcloud.com/weixin.jpg" title="WeChat Sponsor"><img src="https://slefboot-1251736664.file.myqcloud.com/zhifubao.jpg" title="Alipay Sponsor"></div><script type="text/javascript">document.getElementById('btn_donate').onclick = function(){
    $('#donate_board').addClass('hidden');
    $('#donate_guide').removeClass('hidden');
}</script></div><div class="addthis_sharing_toolbox"></div><div class="tags"><a href="/tags/ChatGPT/"><i class="fa fa-tag"></i>ChatGPT</a><a href="/tags/Prompt/"><i class="fa fa-tag"></i>Prompt</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论（请确保 Disqus 可以正常加载）</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'https://selfboot.cn/en/2023/08/23/not-smart-chatgpt/';
    this.page.identifier = 'en/2023/08/23/not-smart-chatgpt/';
    this.page.title = 'Real Examples Showing How ChatGPT Can Make Things Up!';
  };</script><script type="text/javascript" id="disqus-lazy-load-script">$.ajax({
url: 'https://disqus.com/next/config.json',
timeout: 2500,
type: 'GET',
success: function(){
  var d = document;
  var s = d.createElement('script');
  s.src = '//xuelangZF.disqus.com/embed.js';
  s.setAttribute('data-timestamp', + new Date());
  (d.head || d.body).appendChild(s);
  $('.disqus_click_btn').css('display', 'none');
},
error: function() {
  $('.disqus_click_btn').css('display', 'block');
}
});</script><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//xuelangZF.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://xuelangZF.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="https://www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="https://selfboot.cn"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"></i><span>Categories</span></div><ul><li><a href="/en/categories/Programming/">Programming</a> (18)</li><li><a href="/en/categories/Source-Code-Analysis/">Source Code Analysis</a> (13)</li><li><a href="/en/categories/Artificial-Intelligence/">Artificial Intelligence</a> (13)</li><li><a href="/en/categories/Discovery/">Discovery</a> (1)</li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"></i><span>Tags</span></div><div class="tagcloud"><a href="/en/tags/Python/" style="font-size: 15.00px;">Python</a> <a href="/en/tags/Google/" style="font-size: 15.00px;">Google</a> <a href="/en/tags/C/" style="font-size: 15.00px;">C++</a> <a href="/en/tags/ChatGPT/" style="font-size: 15.00px;">ChatGPT</a> <a href="/en/tags/Prompt/" style="font-size: 15.00px;">Prompt</a> <a href="/en/tags/Redis/" style="font-size: 15.00px;">Redis</a> <a href="/en/tags/Debug/" style="font-size: 15.00px;">Debug</a> <a href="/en/tags/eBPF/" style="font-size: 15.00px;">eBPF</a> <a href="/en/tags/Go/" style="font-size: 15.00px;">Go</a> <a href="/en/tags/Frontend/" style="font-size: 15.00px;">Frontend</a> <a href="/en/tags/Gemini/" style="font-size: 15.00px;">Gemini</a> <a href="/en/tags/SEO/" style="font-size: 15.00px;">SEO</a> <a href="/en/tags/LLM/" style="font-size: 15.00px;">LLM</a> <a href="/en/tags/Web/" style="font-size: 15.00px;">Web</a> <a href="/en/tags/LevelDB/" style="font-size: 15.00px;">LevelDB</a></div></div><!-- Debug: page.path = en/2023/08/23/not-smart-chatgpt/ --><div class="widget"><div class="widget-title"><i class="fa fa-file-o"></i><span>Recent</span></div><ul><li><a href="/en/2024/09/24/leveldb_source_skiplist_time_analysis/" title="LevelDB Explained - How to Analyze the Time Complexity of SkipLists?">LevelDB Explained - How to Analyze the Time Complexity of SkipLists?</a></li><li><a href="/en/2024/09/18/leveldb_source_skiplist_test/" title="LevelDB Explained - How to Test Parallel Read and Write of SkipLists?">LevelDB Explained - How to Test Parallel Read and Write of SkipLists?</a></li><li><a href="/en/2024/09/13/gpto1_hands_on/" title="Hands-on with OpenAI's o1-preview - Not Better Enough?">Hands-on with OpenAI's o1-preview - Not Better Enough?</a></li><li><a href="/en/2024/09/09/leveldb_source_skiplist/" title="LevelDB Explained - How to implement SkipList">LevelDB Explained - How to implement SkipList</a></li><li><a href="/en/2024/09/05/claude35_prompt/" title="Claude3.5's System Prompts - No Apologies, Face Blind, Hallucinate...">Claude3.5's System Prompts - No Apologies, Face Blind, Hallucinate...</a></li><li><a href="/en/2024/08/29/leveldb_source_utils/" title="LevelDB Explained - Arena, Random, CRC32, and More.">LevelDB Explained - Arena, Random, CRC32, and More.</a></li><li><a href="/en/2024/08/14/leveldb_source_wal_log/" title="LevelDB Explained - How To Read and Write WAL Logs">LevelDB Explained - How To Read and Write WAL Logs</a></li><li><a href="/en/2024/08/13/leveldb_source_unstand_c++/" title="LevelDB Explained -  Understanding Advanced C++ Techniques">LevelDB Explained -  Understanding Advanced C++ Techniques</a></li><li><a href="/en/2024/08/08/leveldb_source_bloom_filter/" title="LevelDB Explained - Bloom Filter Implementation and Visualization">LevelDB Explained - Bloom Filter Implementation and Visualization</a></li><li><a href="/en/2024/08/06/leveldb_source_prepare/" title="LevelDB Explained - Preparing the Development Environment">LevelDB Explained - Preparing the Development Environment</a></li></ul></div><!-- Debug: Current Language = en, Filtered Posts Count = 10 --><div class="widget" id="toc"><div class="widget-title"><i class="fa fa-list-ul"></i><span> Contents</span></div><ul class="dsq-widget-list"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Beijing-Time-Zone-in-pytz"><span class="toc-number">1.</span> <span class="toc-text">Beijing Time Zone in pytz</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Landlord-Not-Returning-Deposit"><span class="toc-number">2.</span> <span class="toc-text">Landlord Not Returning Deposit?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Plugin-That-Can%E2%80%99t-Be-Activated"><span class="toc-number">3.</span> <span class="toc-text">Plugin That Can’t Be Activated</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Image-Recognition-Error"><span class="toc-number">4.</span> <span class="toc-text">Image Recognition Error</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linked-List-Graph-That-Can%E2%80%99t-Be-Drawn"><span class="toc-number">5.</span> <span class="toc-text">Linked List Graph That Can’t Be Drawn</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Missing-Library-in-Code-Interpreter"><span class="toc-number">6.</span> <span class="toc-text">Missing Library in Code Interpreter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Clickhouse-Functions"><span class="toc-number">7.</span> <span class="toc-text">Clickhouse Functions</span></a></li></ol></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2024 <a href="/." rel="nofollow">Just For Fun.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/selfboot/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/selfboot"> SelfBoot.</a><p><span id="busuanzi_container_site_pv"></span>Total Site Visits:  <span id="busuanzi_value_site_pv"></span> Times，<span id="busuanzi_container_site_uv"></span>Unique Visitors:  <span id="busuanzi_value_site_uv"></span> People</p></div></div></div><link rel="stylesheet" type="text/css" href="/css/donate.css"><link rel="stylesheet" type="text/css" href="/css/copyright.css"><a class="show" id="rocket" href="#top" aria-label="Back to top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script><script type="text/javascript" src="/js/jquery.fancybox.min.js" defer=""></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" defer=""></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.min.css"><script type="text/javascript" src="/js/toc.js?v=1.0.0"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>