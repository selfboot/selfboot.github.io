---
title: 加班了多少天？ChatGPT 被绕晕了
date: 2023-05-29 21:01:48
category: 人工智能
tags: [ChatGPT, Prompt]  
toc: true 
description: 探索人工智能的无限可能性，本页面详细介绍了如何使用GPT-4进行日期计算，包括如何计算特定日期范围内的星期六数量，并排除中国的法定节假日和调班日。我们通过实际案例，展示了GPT-4在处理复杂问题时的表现，以及如何通过编程让AI更好地完成任务。
---

在一个劳动纠纷中，需要计算下员工总的加班天数，把任务给 GPT 后，见证了 GPT 傻傻的样子。历经各种 Prompt 调教，最后还是告诉我一个满意的结果了。

![计算加班总天数](https://slefboot-1251736664.cos.ap-beijing.myqcloud.com/20230602_gpt_cal_date.png)

# 自然推理 Prompt

**Question:**  
帮我计算下 2020.8.24号 到 2022.1.1 号，一共有多少个星期六，注意排除掉中国的法定节假日，以及法定的调班日。注意给出所有排除的日期，一步步给出结果。

**ChatGPT:**  
这个问题涉及到一些具体的日期计算，以及中国的法定节假日和调班日期的查询。**我将首先计算从2020年8月24日到2022年1月1日之间的所有星期六的数量，然后查询中国的法定节假日和调班日期，最后从总数中减去这些日期**。这个过程可能需要一些时间，我将尽快为您提供结果。

首先，我们来计算从2020年8月24日到2022年1月1日之间的所有星期六的数量。

2020年8月24日是星期一。现在，我们需要计算从这个日期到2022年1月1日之间有多少个星期六。这需要一些计算，我将立即开始。

从2020年8月24日到2022年1月1日（不包括结束日期）总共有495天。现在我们需要计算这些天数中有多少个星期六。

一周有7天，所以我们可以通过将总天数除以7并向下取整来得到完整的周数。然后，我们需要检查剩余的天数中是否包含一个星期六。这需要知道开始日期（2020年8月24日）是星期几，我们已经知道它是星期一。现在，让我们进行这些计算。

从2020年8月24日到2022年1月1日总共有495天。由于一周有7天，所以这段时间内有70周和5天。由于2020年8月24日是星期一，那么这70周内每周都有一个星期六，总共有70个星期六。**另外，那5天中包含一个星期六（2020年8月29日），所以总共有71个星期六。**

接下来，我将查询中国的法定节假日和调班日期，然后从这个总数中减去这些日期。这可能需要一些时间，我将尽快为您提供结果。

根据中国政府的公告，以下是2020年和2021年的法定节假日和调班日期：

2020年：

- 元旦：1月1日
- 春节：1月24日至30日，调班日期：1月19日（星期日）、2月1日（星期六）
- 清明节：4月4日至6日
- 劳动节：5月1日至5日，调班日期：4月26日（星期日）、5月9日（星期六）
- 端午节：6月25日至27日，调班日期：6月28日（星期日）
- 国庆节、中秋节：10月1日至8日，调班日期：9月27日（星期日）、10月10日（星期六）

2021年：

- 元旦：1月1日至3日
- 春节：2月11日至17日，调班日期：2月7日（星期日）、2月20日（星期六）
- 清明节：4月3日至5日
- 劳动节：5月1日至5日，调班日期：4月25日（星期日）、5月8日（星期六）
- 端午节：6月12日至14日
- 中秋节：9月19日至21日，调班日期：9月18日（星期六）
- 国庆节：10月1日至7日，调班日期：9月26日（星期日）、10月9日（星期六）

接下来，我将计算这些日期中有多少个星期六，并从总数中减去。这可能需要一些时间，我将尽快为您提供结果。

根据中国政府的公告，**以下是2020年和2021年的法定节假日和调班日期中的星期六**：

2020年：

- 春节调班日期：2月1日（星期六）
- 劳动节调班日期：5月9日（星期六）
- 国庆节调班日期：10月10日（星期六）

2021年：

- 春节调班日期：2月20日（星期六）
- 劳动节调班日期：5月8日（星期六）
- 中秋节调班日期：9月18日（星期六）
- 国庆节调班日期：10月9日（星期六）

所以，从2020年8月24日到2022年1月1日之间，需要排除的星期六的日期有7天。

因此，从2020年8月24日到2022年1月1日之间的星期六的数量（排除中国的法定节假日和法定的调班日）为：71 - 7 = 64天。

> 这里调用了 WebPilot 插件来获取节假日的安排，还是很准确的。其中 [2020 年](https://www.gov.cn/zhengce/content/2019-11/21/content_5454164.htm)和 [2021 年](https://www.gov.cn/zhengce/content/2020-11/25/content_5564127.htm)的节假日数据都是官方来的。但是这里扣减的时候，少扣除了节日日中的周六，并且把 2020 年 2.1 号也排除了，有点傻。

---
**Question:** 
节假日的周六也要排除掉

**ChatGPT:**  
根据我从网站上获取的信息，以下是2021年中国的公众假期，这些日期也需要从周六中排除：

- 1月1日，星期五，新年
- 1月2日，星期六，新年假期
- 1月3日，星期日，新年假期
- 2月11日，星期四，春节前夕
- 2月12日，星期五，农历新年
- 2月13日，星期六，春节黄金周假期
- ......
- 10月3日，星期日，国庆节黄金周假期
- 12月25日，星期六，圣诞节

以上日期在计算工作日时需要排除。

> 继续错了，这里把周四，周五都算进来，AI 分不清周五、周六? 让他列出所有符合排除条件的日期，然后咱手动给他算一算有多少个。

---
**Question:** 
错了，我需要找出2020年8月24日到2022年1月1日之间的，是周六，又是国家法定节假日的日期。给出我日期和节假日的名字；

**ChatGPT:**  
我明白了，您需要找出在2020年8月24日到2022年1月1日之间，既是周六又是中国法定节假日的日期。我会立即为您找出这些日期。根据我之前的查询，以下是符合您要求的日期：

2020年：

- 10月10日，星期六，国庆节调班日期

2021年：

- 1月1日，星期五，元旦
- 2月20日，星期六，春节调班日期
- 5月1日，星期六，劳动节
- 5月8日，星期六，劳动节调班日期
- 6月12日，星期六，端午节
- 9月18日，星期六，中秋节调班日期
- 10月2日，星期六，国庆节
- 10月9日，星期六，国庆节调班日期
- 12月25日，星期六，圣诞节

以上就是在2020年8月24日到2022年1月1日之间，既是周六又是中国法定节假日的日期。

> 这里仍然是错误的，不知道为啥还能冒出圣诞节？？？ 后面不管如何提示，给出的总是很奇怪，完整聊天可以见 [对话 1](https://chat.openai.com/share/acc2a2c2-5857-4d8e-9572-ac5c5e54946f)。这里逻辑推理和简单的计算 AI 看起来并不擅长，那我们就让他来编程吧。这里后面的对话感觉 AI 已经懵逼了，就新开一个回话来让我重新开始。 

# 让 AI 做擅长的编程？

**Question:**  
帮我计算下 2020.8.24号 到 2022.1.1 号，一共有多少个星期六，注意排除掉中国的法定节假日，以及法定的调班日。写一个 Python 程序来完成上面的任务，对于法定节假日和调班日，你去网上搜索后，直接写死在代码中。 

**ChatGPT:**  
首先，我会帮你写一个 Python 程序来计算两个日期之间的星期六的数量。然后，我会搜索中国的法定节假日和调班日，并在代码中排除这些日期。

这是一个基本的 Python 程序，它计算两个日期之间的星期六的数量：

```python
from datetime import datetime, timedelta

# 定义起始和结束日期
start_date = datetime(2020, 8, 24)
end_date = datetime(2022, 1, 1)

# 初始化星期六的数量
saturday_count = 0

# 遍历日期范围
current_date = start_date
while current_date <= end_date:
    # 如果当前日期是星期六，增加计数
    if current_date.weekday() == 5:
        saturday_count += 1
    # 前进到下一天
    current_date += timedelta(days=1)

print(f"从 {start_date} 到 {end_date} 一共有 {saturday_count} 个星期六。")
```

接下来，我将搜索中国的法定节假日和调班日，并在代码中排除这些日期。这可能需要一些时间，因为我需要访问网页并解析数据。我将使用 OpenAI 的 Web Pilot 工具来完成这个任务。

**Question:**  
继续。 你一次写完，不要让我说继续

**ChatGPT:**  
根据我[找到的信息](https://www.gov.cn/zhengce/content/2019-11/21/content_5454164.htm)，2020年中国的法定节假日和调班日如下：

- 元旦：2020年1月1日放假，共1天。
- 春节：1月24日至30日放假调休，共7天。1月19日（星期日）、2月1日（星期六）上班。
- 清明节：4月4日至6日放假调休，共3天。
- 劳动节：5月1日至5日放假调休，共5天。4月26日（星期日）、5月9日（星期六）上班。
- 端午节：6月25日至27日放假调休，共3天。6月28日（星期日）上班。
- 国庆节、中秋节：10月1日至8日放假调休，共8天。9月27日（星期日）、10月10日（星期六）上班。

接下来，我将这些日期添加到 Python 程序中，并排除这些日期：

```python
from datetime import datetime, timedelta

# 定义起始和结束日期
start_date = datetime(2020, 8, 24)
end_date = datetime(2022, 1, 1)

# 定义中国的法定节假日和调班日
holidays = [
    datetime(2020, 1, 1),
    datetime(2020, 1, 24), datetime(2020, 1, 25), datetime(2020, 1, 26), 
    datetime(2020, 1, 27), datetime(2020, 1, 28), datetime(2020, 1, 29), 
    datetime(2020, 1, 30),
    datetime(2020, 4, 4), datetime(2020, 4, 5), datetime(2020, 4, 6),
    datetime(2020, 5, 1), datetime(2020, 5, 2), datetime(2020, 5, 3), 
    datetime(2020, 5, 4), datetime(2020, 5, 5),
    datetime(2020, 6, 25), datetime(2020, 6, 26), datetime(2020, 6, 27),
    datetime(2020, 10, 1), datetime(2020, 10, 2), datetime(2020, 10, 3), 
    datetime(2020, 10, 4), datetime(2020, 10, 5), datetime(2020, 10, 6), 
    datetime(2020, 10, 7), datetime(2020, 10, 8)
]

# 初始化星期六的数量
saturday_count = 0

# 遍历日期范围
current_date = start_date
while current_date <= end_date:
    # 如果当前日期是星期六，并且不是法定节假日或调班日，增加计数
    if current_date.weekday() == 5 and current_date not in holidays:
        saturday_count += 1
    # 前进到下一天
    current_date += timedelta(days=1)

print(f"从 {start_date} 到 {end_date} 一共有 {saturday_count} 个星期六。")
```

这个程序将计算两个日期之间的星期六的数量，并排除中国的法定节假日和调班日。请注意，这个程序只适用于2020年，如果你需要计算其他年份的日期，你需要更新节假日和调班日的列表。

**Question:**  
所有在开始日期和结束日期内的时间，都要过滤节假日和调班日，重新完善上面的代码，补上 2021 年的过滤。

**ChatGPT:**  
根据我[找到的信息](http://www.gov.cn/zhengce/content/2020-11/25/content_5564127.htm)，2021年中国的法定节假日和调班日如下：

- 元旦：2021年1月1日至3日放假，共3天。
- 春节：2月11日至17日放假调休，共7天。2月7日（星期日）、2月20日（星期六）上班。
- 清明节：4月3日至5日放假调休，共3天。
- 劳动节：5月1日至5日放假调休，共5天。4月25日（星期日）、5月8日（星期六）上班。
- 端午节：6月12日至14日放假，共3天。
- 中秋节：9月19日至21日放假调休，共3天。9月18日（星期六）上班。
- 国庆节：10月1日至7日放假调休，共7天。9月26日（星期日）、10月9日（星期六）上班。

接下来，我将这些日期添加到 Python 程序中，并排除这些日期：

```python
from datetime import datetime, timedelta

# 定义起始和结束日期
start_date = datetime(2020, 8, 24)
end_date = datetime(2022, 1, 1)

# 定义中国的法定节假日和调班日
holidays = [
    # 2020年的节假日和调班日
    # ...（省略了2020年的日期）

    # 2021年的节假日和调班日
    datetime(2021, 1, 1), datetime(2021, 1, 2), datetime(2021, 1, 3),
    datetime(2021, 2, 7), datetime(2021, 2, 11), datetime(2021, 2, 12), 
    datetime(2021, 2, 13), datetime(2021, 2, 14), datetime(2021, 2, 15), 
    datetime(2021, 2, 16), datetime(2021, 2, 17), datetime(2021, 2, 20),
    datetime(2021, 4, 3), datetime(2021, 4, 4), datetime(2021, 4, 5),
    datetime(2021, 4, 25), datetime(2021, 5, 1), datetime(2021, 5, 2), 
    datetime(2021, 5, 3), datetime(2021, 5, 4), datetime(2021, 5, 5), 
    datetime(2021, 5, 8),
    datetime(2021, 6, 12), datetime(2021, 6, 13), datetime(2021, 6, 14),
    datetime(2021, 9, 18), datetime(2021, 9, 19), datetime(2021, 9, 20), 
    datetime(2021, 9, 21),
    datetime(2021, 9, 26), datetime(2021, 10, 1), datetime(2021, 10, 2), datetime(2021, 10, 3), 
    datetime(2021, 10, 4), datetime(2021, 10, 5), datetime(2021, 10, 6), 
    datetime(2021, 10, 7), datetime(2021, 10, 9)
]

# 初始化星期六的数量
saturday_count = 0

# 遍历日期范围
current_date = start_date
while current_date <= end_date:
    # 如果当前日期是星期六，并且不是法定节假日或调班日，增加计数
    if current_date.weekday() == 5 and current_date not in holidays:
        saturday_count += 1
    # 前进到下一天
    current_date += timedelta(days=1)

print(f"从 {start_date} 到 {end_date} 一共有 {saturday_count} 个星期六。")
```

这个程序将计算两个日期之间的星期六的数量，并排除中国的法定节假日和调班日。请注意，这个程序只适用于2020年和2021年，如果你需要计算其他年份的日期，你需要更新节假日和调班日的列表。

> 看来 AI 写代码的思路还是清晰一些，总算给出了一个可以的答案。完整对话见 [对话 2](https://chat.openai.com/share/e446e8a6-ba2e-4c1d-81b1-7f7633f91990).